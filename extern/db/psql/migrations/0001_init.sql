-- +goose Up
CREATE TABLE IF NOT EXISTS users (
  id  TEXT  PRIMARY KEY  NOT NULL  DEFAULT NULL,
  email  TEXT UNIQUE  NOT NULL  DEFAULT NULL,
  password  TEXT  NOT NULL  DEFAULT NULL,
  first_name  TEXT  NOT NULL  DEFAULT '',
  last_name  TEXT NOT NULL  DEFAULT '',
  role  TEXT  NOT NULL  DEFAULT NULL,
  created_at  TIMESTAMPTZ NOT NULL  DEFAULT NOW(),
  updated_at  TIMESTAMPTZ NOT NULL  DEFAULT NOW()
);

CREATE TABLE IF NOT EXISTS refresh_tokens (
  id  TEXT  PRIMARY KEY  NOT NULL  DEFAULT NULL,
  user_id  TEXT  NOT NULL  DEFAULT NULL  REFERENCES users(id) ON DELETE CASCADE,
  expires_at  TIMESTAMPTZ NOT NULL  DEFAULT NULL,
  created_at  TIMESTAMPTZ NOT NULL  DEFAULT NOW(),
  updated_at  TIMESTAMPTZ NOT NULL  DEFAULT NOW()
);
